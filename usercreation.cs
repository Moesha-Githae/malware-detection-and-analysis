private void btnSave_Click(object sender, EventArgs e)
{
    UserComponent userComponent = new UserComponent();
    if (userComponent.IsUserNameExists(txtUserName.Text, StaticValues.UserEditId))
    {
        lblMessage.Text = "Username already exists."; 
        return;
    }
    User usr = new User();
    usr.UserId = StaticValues.UserEditId; 
    usr.UserName = txtUserName.Text; 
    usr.Name = txtName.Text;
    if (StaticValues.UserEditId == 0 ||!string.IsNullOrEmpty(txtPassword.Text)) 
        usr.Password = Security.GenerateEncryptedPassword(txtPassword.Text);
    usr.IsActive = chkIsActive.Checked; 
    usr.IsAdmin = chkIsAdmin.Checked; 
    usr.IsDeleted = false;
    if (userComponent.Save(usr))
    {
        System.IO.Directory.CreateDirectory(AppDomain.CurrentDomain.BaseDirectory + "reports\\" + txtUserName.Text);
        lblMessage.Text = "User saved successfully."; 
        Clear();
    }
    else
        lblMessage.Text = "Error while saving the record.";
}